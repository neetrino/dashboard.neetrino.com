# Новая функция: Настройки удаления файлов

## Описание обновления

В модуль Delete добавлена новая функциональность "Настройки удаления файлов", которая позволяет выборочно удалять файлы из WordPress папок по различным критериям.

## Новые возможности

### 1. Кнопка "Настройки удаления"
- Расположена в правом верхнем углу рядом с кнопкой "Информация"
- Оранжевый дизайн с иконкой настроек
- Открывает модальное окно с расширенными настройками

### 2. Выбор папок для сканирования
Доступны предустановленные папки:
- `wp-content/uploads` - загруженные файлы
- `wp-content/themes` - темы
- `wp-content/plugins` - плагины
- `wp-content/cache` - кэш файлы
- `wp-content/backup` - резервные копии
- `wp-content/temp` - временные файлы
- Пользовательская папка (ввод пути вручную)

### 3. Фильтрация по дате
- Включение/выключение фильтра по дате
- Выбор диапазона дат (от - до)
- Выбор типа даты:
  - Дата создания файла
  - Дата изменения файла

### 4. Дополнительные фильтры

#### Фильтр по расширению файлов
- Указание расширений через запятую (например: jpg,png,pdf,txt)
- Поиск только файлов с указанными расширениями

#### Фильтр по размеру файлов
- Операторы сравнения:
  - Больше чем
  - Меньше чем
  - Равно
- Единицы измерения: КБ, МБ, ГБ

### 5. Статистика файлов
После сканирования отображается:
- Количество найденных файлов
- Общий размер найденных файлов
- Общее количество файлов в папке
- Общий размер папки

### 6. Двухэтапный процесс
1. **Сканирование** - анализ файлов по критериям без удаления
2. **Удаление** - фактическое удаление найденных файлов с подтверждением

## Безопасность

- Требуются права администратора WordPress
- Двойное подтверждение перед удалением
- Проверка существования папок
- Валидация всех входных данных
- Защита от SQL-инъекций и XSS

## Техническая реализация

### Новые AJAX обработчики
- `neetrino_scan_files` - сканирование файлов
- `neetrino_delete_files` - удаление файлов

### Новые методы в классах
- `render_settings_modal()` - рендеринг модального окна настроек
- `scan_directory()` - сканирование папки с фильтрами
- `delete_files_by_criteria()` - удаление файлов по критериям
- `file_matches_criteria()` - проверка соответствия файла фильтрам

### CSS стили
- Адаптивный дизайн для мобильных устройств
- Современный UI с градиентами и анимациями
- Цветовая схема в стиле WordPress

## Использование

1. Откройте модуль Delete в админ-панели Neetrino
2. Нажмите кнопку "Настройки удаления" в правом верхнем углу
3. Выберите папку для сканирования
4. Настройте фильтры по необходимости:
   - Дата создания/изменения
   - Расширения файлов
   - Размер файлов
5. Нажмите "Сканировать файлы" для анализа
6. Просмотрите статистику найденных файлов
7. Нажмите "Удалить выбранные файлы" для удаления
8. Подтвердите действие в диалоге

## Примеры использования

### Очистка старых логов
- Папка: wp-content/uploads
- Дата: старше 30 дней
- Расширения: log,txt

### Удаление больших изображений
- Папка: wp-content/uploads
- Размер: больше 5 МБ
- Расширения: jpg,png,gif

### Очистка кэша
- Папка: wp-content/cache
- Все файлы

## Ограничения

- Работает только с файлами (не директориями)
- Требует права на запись в выбранной папке
- Операции необратимы (рекомендуется резервное копирование)
- Максимальное время выполнения ограничено настройками PHP

## Совместимость

- WordPress 5.0+
- PHP 7.4+
- Поддержка всех современных браузеров
- Мобильная адаптивность

## Безопасные папки

Модуль автоматически проверяет безопасность операций и предотвращает удаление критически важных файлов WordPress.
